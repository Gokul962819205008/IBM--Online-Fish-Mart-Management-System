

{% block head %}
 <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<style>
body {
  font-family: Arial, Helvetica, sans-serif;
}

        #home{
            margin-left: 25px;
            margin-right: 25px;
        }
        #home:hover{
            color: blue;
        }
        #registration, #login{
            margin-left: 30px;
            font-size: larger;
        }
        #registration:hover, #login:hover, #home:hover{
            color: blue;
            border-bottom: 3px solid blue;

        }


.flip-card {
  background-color: transparent;
  width: 280px;
  height: 300px;
  perspective: 1000px;
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
}

.flip-card:hover .flip-card-inner {
  transform: rotateY(180deg);
}

.flip-card-front, .flip-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

.flip-card-front {
  background-image:
     linear-gradient(
       45deg, #6f04d9, #d9048e
     );
  color: black;
}

.flip-card-back {
  background-image:
     linear-gradient(
       45deg, #6f04d9, #d9048e
     );
  color: white;
  transform: rotateY(180deg);
}

      /* Slideshow container */
      .slideshow-container {
        max-width: 100%;
        position: relative;
        margin: 0;
        padding: 0;
      }

      /* Caption text */
      .text {
        color: #f2f2f2;
        font-size: 15px;
        padding: 0;
        position: absolute;
        bottom: 0px;
        width: 100%;
        text-align: center;
      }

      /* Number text (1/3 etc) */
      .numbertext {
        color: #f2f2f2;
        font-size: 12px;
        padding: 8px 12px;
        position: absolute;
        top: 0;
      }
      .fade {
        animation-name: fade;
        animation-duration: 1.5s;
      }
      .fade img{
          height: 90vh;
          width: 100%;
          padding-bottom: 0%;
      }
      @keyframes fade {
        from {opacity: .4}
        to {opacity: 1}
      }

      /* On smaller screens, decrease text size */
      @media only screen and (max-width: 300px) {
        .text {font-size: 11px}
      }
</style>
<title>Home</title> 
{% endblock %}

{% block body %}

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand ms-5 " id="home" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
            <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
          </svg></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" id="registration" aria-current="page" href="/reg_page">Registration</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" id="login" href="/sign_page">Sign in</a>
              </li>

            </ul>
            <form class="d-flex"  action="/search" method="POST" >
              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="tag">
              <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
          </div>
        </div>
      </nav>


            <div class="slideshow-container">

              <div class="mySlides fade">

                <img src="{{url_for('static',filename='images/slider.jpeg')}}">

              </div>
                <div class="mySlides fade">

                <img src="{{url_for('static',filename='images/slider2.jpeg')}}">

              </div>

              <div class="mySlides fade">

                 <img src="{{url_for('static',filename='images/slider3.jpeg')}}">

              </div>

            </div>


              <div style="text-align:center">
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
              </div>

              <script>
              let slideIndex = 0;
              showSlides();

              function showSlides() {
                let i;
                let slides = document.getElementsByClassName("mySlides");
                let dots = document.getElementsByClassName("dot");
                for (i = 0; i < slides.length; i++) {
                  slides[i].style.display = "none";
                }
                slideIndex++;
                if (slideIndex > slides.length) {slideIndex = 1}
                for (i = 0; i < dots.length; i++) {
                  dots[i].className = dots[i].className.replace(" active", "");
                }
                slides[slideIndex-1].style.display = "block";
                dots[slideIndex-1].className += " active";
                setTimeout(showSlides, 2000); // Change image every 2 seconds
              }
              </script>
    <div style="text-align:center">
        <span class="dot" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
    </div>
<a href="/sign_page">
<div class="row">
{% for post in posts %}

<div class="flip-card ms-5 " style="margin-top: 10px;">
  <div class="flip-card-inner "  style="margin-top: 10px;">
    <div class="flip-card-front pt-4 rounded-3">
      {% set a = post.image %}
      {% set b= encode(a) %}
      {% set img = b.decode('UTF-8') %}
      <img src= "data:image/png;charset-utf;base64,{{img}}" alt="Avatar" style="width:200px;height:210px;"><br>
      <h5 class="mt-3 text-white" >Min. {{post.offers}}% Off</h5>
    </div>
    <div class="flip-card-back rounded-3">
      <h1 class="mt-5">{{post.name}}</h1>
      <h4>$<del>{{post.price}}</del></h4>
      <h4>Just - ${{post.offer_price}}/-</h4>
      <h4>Min. {{post.offers}}% Off</h4>
    </div>
  </div>
</div>

{% endfor %}
</div>
</a>


<script>
  window.watsonAssistantChatOptions = {
    integrationID: "f87a7ac0-1ef0-401c-bc07-d715ab998906", // The ID of this integration.
    region: "au-syd", // The region your integration is hosted in.
    serviceInstanceID: "321fec2a-6d0b-4a90-a468-7ba351430cbf", // The ID of your service instance.
    onLoad: function(instance) { instance.render(); }
  };
  setTimeout(function(){
    const t=document.createElement('script');
    t.src="https://web-chat.global.assistant.watson.appdomain.cloud/versions/" + (window.watsonAssistantChatOptions.clientVersion || 'latest') + "/WatsonAssistantChatEntry.js";
    document.head.appendChild(t);
  });
</script>

{% endblock %}